<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Scanbot SDK: SBSDKOpticalTextRecognizer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="ScanbotSDK.css" rel="stylesheet" type="text/css" />
<link href="ScanbotSDKTabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scanbot SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Class Methods</a> &#124;
<a href="class_s_b_s_d_k_optical_text_recognizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SBSDKOpticalTextRecognizer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for SBSDKOpticalTextRecognizer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="interface_s_b_s_d_k_optical_text_recognizer.png" usemap="#SBSDKOpticalTextRecognizer_map" alt=""/>
  <map id="SBSDKOpticalTextRecognizer_map" name="SBSDKOpticalTextRecognizer_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a55569d1d50aa92a3a2b53eee2b5bded7"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a55569d1d50aa92a3a2b53eee2b5bded7">availableLanguages</a></td></tr>
<tr class="separator:a55569d1d50aa92a3a2b53eee2b5bded7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c77461dd9d31b0d6363a7cf1401d2c7"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a4c77461dd9d31b0d6363a7cf1401d2c7">userPreferredLanguages</a></td></tr>
<tr class="separator:a4c77461dd9d31b0d6363a7cf1401d2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3c2647bdcfd868a0826c773d1330a3"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a7f3c2647bdcfd868a0826c773d1330a3">languageDataPath</a></td></tr>
<tr class="separator:a7f3c2647bdcfd868a0826c773d1330a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f94cb43b480e24f56919a60fcd9908"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a16f94cb43b480e24f56919a60fcd9908">resetLanguageData</a></td></tr>
<tr class="separator:a16f94cb43b480e24f56919a60fcd9908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0754684cb973b428a568d71eb87676d"><td class="memItemLeft" align="right" valign="top">(NSArray *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#ab0754684cb973b428a568d71eb87676d">installedLanguages</a></td></tr>
<tr class="separator:ab0754684cb973b428a568d71eb87676d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444e00f99bed51a38b3270061c3b12bc"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a444e00f99bed51a38b3270061c3b12bc">recognizeText:copyImageStorage:indexSet:languageString:pdfOutputURL:completion:</a></td></tr>
<tr class="separator:a444e00f99bed51a38b3270061c3b12bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a84e07c510bdf78a2e5bc891572af87"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a9a84e07c510bdf78a2e5bc891572af87">recognizeText:rectangle:languageString:completion:</a></td></tr>
<tr class="separator:a9a84e07c510bdf78a2e5bc891572af87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148eab2f04647f17aad55a9bf7e07765"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_s_b_s_d_k_optical_text_recognizer.html#a148eab2f04647f17aad55a9bf7e07765">analyseImagePageLayout:completion:</a></td></tr>
<tr class="separator:a148eab2f04647f17aad55a9bf7e07765"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A factory class to enqueue and execute optical character recognition operations: the heart of the Scanbot SDK OCR module. It performs OCR operations on either a single image or a collection of images, see <a class="el" href="interface_s_b_s_d_k_image_storage.html">SBSDKImageStorage</a>. Additionally it can perform a standalone page analysis on a single image. All of the operations are dispatched to a single serial queue to ensure low memory footprint and optimum CPU load.</p>
<p>For best OCR results the language(s) of the text to be recognized should be passed. For each language exists is a training data file. Scanbot SDK ships with no training data files by default to keep the framework small in size. To install language files and deliver them with your app you must download them, unzip and place the *.traineddata file without any subfolders in your applications bundle in a subfolder named 'SBSDKLanguageData'. Make sure that this folder is copied along with your resources into your app. Language files can be downloaded here <a href="https://code.google.com/p/tesseract-ocr/downloads/list">https://code.google.com/p/tesseract-ocr/downloads/list</a></p>
<p>Any text recognition operation will fail with an error if all specified languages are missing. If the specified languages are partially available a warning will be logged, but the operation executes without using the missing languages.</p>
<p>The number of languages passed to OCR operations have a significant impact on the performance: the more languages, the slower the recognition process. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a148eab2f04647f17aad55a9bf7e07765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *) analyseImagePageLayout: </td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>imageURL</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_s_b_s_d_k_scanbot_s_d_k_constants_8h.html#a0c0aadc4b212f97cff07c2c70c324d77">SBSDKCompletionHandler</a>)&#160;</td>
          <td class="paramname"><em>completionHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs a basic page layout analysis asynchronously on the given image and calls the completion handler upon completion. The result contains information about general text orientation, writing direction, textline order and an angle to deskew the image. In order to execute this operation the english language file 'eng.traineddata' and the OSD file 'osd.traineddata' must be placed in your app bundles 'SBSDKLanguageData' folder. Download eng: <a href="https://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-3.01.eng.tar.gz&can=2&q=">https://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-3.01.eng.tar.gz&amp;can=2&amp;q=</a> Download osd: <a href="https://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-3.01.osd.tar.gz&can=2&q=">https://code.google.com/p/tesseract-ocr/downloads/detail?name=tesseract-ocr-3.01.osd.tar.gz&amp;can=2&amp;q=</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageURL</td><td>The file URL at which the image is located. Must not be nil. </td></tr>
    <tr><td class="paramname">completionHandler</td><td>The completionHandler that is being called upon completion of the operation. Called on main thread. The result info dictionary contains values for the following keys:<ul>
<li>SBSDKResultInfoSourceFileURLKey: the file URL of the input image as NSURL</li>
<li>SBSDKResultInfoPageAnalyzerResultsKey: the page analysis result as <a class="el" href="interface_s_b_s_d_k_page_analyzer_result.html">SBSDKPageAnalyzerResult</a>.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> object that can be used to observe the operations progress and to cancel the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a55569d1d50aa92a3a2b53eee2b5bded7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSArray *) availableLanguages </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a list of all available two-letter ISO 639-1 language codes. Note: This is not a list of installed languages but of all languages with training data available. </p><dl class="section return"><dt>Returns</dt><dd>NSArray of NSString objects, each being a two-letter ISO 639-1 language code. </dd></dl>

</div>
</div>
<a class="anchor" id="ab0754684cb973b428a568d71eb87676d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSArray *) installedLanguages </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a list of all installed two-letter ISO 639-1 language codes. </p><dl class="section return"><dt>Returns</dt><dd>NSArray of NSString objects, each being a two-letter ISO 639-1 language code. </dd></dl>

</div>
</div>
<a class="anchor" id="a7f3c2647bdcfd868a0826c773d1330a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString *) languageDataPath </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The path to the folder containing the installed languages training data files. If you want to implement e.g. dynamic language downloading within your app, place the extracted *.traineddata files here. New text recognition operations will find these language files and use them if needed resp. specified. </p>

</div>
</div>
<a class="anchor" id="a444e00f99bed51a38b3270061c3b12bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *) recognizeText: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_s_b_s_d_k_image_storage.html">SBSDKImageStorage</a> *)&#160;</td>
          <td class="paramname"><em>storage</em></td>
        </tr>
        <tr>
          <td class="paramkey">copyImageStorage:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>copyStorage</em></td>
        </tr>
        <tr>
          <td class="paramkey">indexSet:</td>
          <td></td>
          <td class="paramtype">(NSIndexSet *)&#160;</td>
          <td class="paramname"><em>indices</em></td>
        </tr>
        <tr>
          <td class="paramkey">languageString:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>languageString</em></td>
        </tr>
        <tr>
          <td class="paramkey">pdfOutputURL:</td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>pdfOutputURL</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_s_b_s_d_k_scanbot_s_d_k_constants_8h.html#a0c0aadc4b212f97cff07c2c70c324d77">SBSDKCompletionHandler</a>)&#160;</td>
          <td class="paramname"><em>completionHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recognizes text on a set of images with the specified languages and calls the completion handler upon completion. If pdfOutputURL is a valid file URL a searchable PDF is created and written to the specified URL. A searchable PDF contains selectable and searchable text. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>The image storage containing the images to be recognized. Must not be nil. </td></tr>
    <tr><td class="paramname">copyStorage</td><td>Whether the receiver should make a physical copy of the image storage for the operation or not. If set to NO, you must make sure that the image storage is not mutated while the operation is running. Setting YES makes a physical copy of the files in the storage, using up disk memory, but protecting it against mutation. </td></tr>
    <tr><td class="paramname">indices</td><td>An NSIndexSet specifying the indices of the images in the image storage that you want to recognize. Pass nil if you want to select all images. Invalid indices are ignored. </td></tr>
    <tr><td class="paramname">languageString</td><td>A string of two-letter ISO 639-1 language codes, separated by '+', the OCR engine should use for recognition. E.g. "de+en" (german and english) "ar+he+ja" (arabic, hebrew and japanese). If the string is invalid or nil the user preferred languages are used. Ignores white spaces, invalid languages and invalid characters. </td></tr>
    <tr><td class="paramname">pdfOutputURL</td><td>If not nil and a valid file URL a searchable PDF is rendered and saved to this URL. </td></tr>
    <tr><td class="paramname">completionHandler</td><td>The completionHandler that is being called upon completion of the operation. Called on main thread. The result info dictionary contains values for the following keys:<ul>
<li>SBSDKResultInfoImageStorageKey: the image storage as <a class="el" href="interface_s_b_s_d_k_image_storage.html">SBSDKImageStorage</a></li>
<li>SBSDKResultInfoOCRResultsKey: the OCR results as <a class="el" href="interface_s_b_s_d_k_o_c_r_result.html">SBSDKOCRResult</a></li>
<li>SBSDKResultInfoDestinationFileURLKey: the file URL of the output PDF</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> object that can be used to observe the operations progress and to cancel the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a9a84e07c510bdf78a2e5bc891572af87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> *) recognizeText: </td>
          <td></td>
          <td class="paramtype">(NSURL *)&#160;</td>
          <td class="paramname"><em>imageURL</em></td>
        </tr>
        <tr>
          <td class="paramkey">rectangle:</td>
          <td></td>
          <td class="paramtype">(CGRect)&#160;</td>
          <td class="paramname"><em>rectangle</em></td>
        </tr>
        <tr>
          <td class="paramkey">languageString:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>languageString</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_s_b_s_d_k_scanbot_s_d_k_constants_8h.html#a0c0aadc4b212f97cff07c2c70c324d77">SBSDKCompletionHandler</a>)&#160;</td>
          <td class="paramname"><em>completionHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recognizes text within a specified area on a single image with the specified languages and calls the completion handler upon completion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageURL</td><td>The file URL at which the image is located. Must not be nil. </td></tr>
    <tr><td class="paramname">rectangle</td><td>A rectangle defining the boundaries of where to recognize text. Pass CGRectZero to recognize the whole image. </td></tr>
    <tr><td class="paramname">languageString</td><td>A string of two-letter ISO 639-1 language codes, separated by '+', the OCR engine should use for recognition. E.g. "de+en" (german and english) "ar+he+ja" (arabic, hebrew and japanese). If the string is invalid or nil the user preferred languages are used. Ignores white spaces, invalid languages and invalid characters. </td></tr>
    <tr><td class="paramname">completionHandler</td><td>The completionHandler that is being called upon completion of the operation. Called on main thread. The result info dictionary contains values for the following keys:<ul>
<li>SBSDKResultInfoSourceFileURLKey: the file URL of the input image as NSURL</li>
<li>SBSDKResultInfoOCRResultsKey: the OCR results as <a class="el" href="interface_s_b_s_d_k_o_c_r_result.html">SBSDKOCRResult</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="interface_s_b_s_d_k_progress.html">SBSDKProgress</a> object that can be used to observe the operations progress and to cancel the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a16f94cb43b480e24f56919a60fcd9908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) resetLanguageData </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all language data from languageDataPath and copies the language data from the bundles again. Useful for migration to newer versions of language data. </p>

</div>
</div>
<a class="anchor" id="a4c77461dd9d31b0d6363a7cf1401d2c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSArray *) userPreferredLanguages </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a list of the two-letter ISO 639-1 language codes that are retrieved from the current NSLocale and the users preferred languages. Note: This is not a list of installed languages but of languages with training data available. </p><dl class="section return"><dt>Returns</dt><dd>NSArray of NSString objects, each being a two-letter ISO 639-1 language code. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!--<div id="nav-path" class="navpath">
 <ul>
        <li class="footer">Scanbot SDK Documentation - Copyright 2015 by doo GmbH
            <a href="https://scanbot.io">
            </a></li>
    </ul>
</div>-->
<link href="ScanbotSDK.css" rel="stylesheet" type="text/css" />
<div class="footer">
        Scanbot SDK Documentation - Copyright 2015 by doo GmbH generated on Tue Jul 19 2016 10:13:08 <a href="https://scanbot.io"></a>
 </div>